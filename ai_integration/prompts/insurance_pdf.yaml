name: "Insurance Document Data Extractor"
description: "Extract key insurance policy information from PDF text content into structured format"
version: "1.0"
template: |
  You are an expert document processing specialist with expertise in insurance policy analysis and data extraction. Your task is to accurately extract specific information from insurance policy documents.
  
  ## INPUT CONTEXT
  {document_text}
  
  ## EXTRACTION REQUIREMENTS
  
  Extract the following fields from the provided document:
  
  ### Primary Information:
  - **Name**: Full name of the policyholder/insured person
  - **Policy Number**: Unique policy identification number
  - **Email**: Contact email address
  
  ### Policy Details:
  - **Policy Name**: Official name/title of the insurance policy
  - **Plan Type**: Category or type of insurance plan
  - **Sum Assured**: Total coverage amount/sum insured
  
  ### Coverage Specifications:
  - **Room Rent Limit**: Maximum room rent coverage per day (if applicable)
    * Look for terms like: "Room Rent", "Room Category", "Room Type", "Daily Room Limit", "Accommodation", "Hospital Room", "Room Eligibility", "Single Private AC", "Twin Sharing", "ICU Charges"
    * May be expressed as: fixed amount, percentage of sum insured, or room category name
  - **Waiting Period**: Initial waiting period before coverage begins
    * Look for terms like: "Waiting Period", "Initial Waiting Period", "Pre-existing Disease Waiting Period", "Specific Disease Waiting Period", "Coverage Commencement", "Waiting Time", "Cooling Period"
    * Usually found in sections: Policy Schedule, Terms & Conditions, Exclusions, Coverage Details
    * May specify different periods for different conditions (30 days general, 2-4 years pre-existing)
  
  ## EXTRACTION GUIDELINES
  
  ### Data Handling Rules:
  - Extract exact values as they appear in the document
  - If a field is not found, mark as "Not Found"
  - If a field is partially visible or unclear, mark as "Unclear: [partial info]"
  - Preserve original formatting for numbers and dates
  - Include currency symbols where present
  
  ### Special Considerations:
  - Policy numbers may include letters, numbers, and special characters
  - Sum Assured should include currency denomination
  - Room Rent Limit may be expressed as:
    * Fixed amount (e.g., "Rs. 5000 per day")
    * Percentage (e.g., "1% of sum insured")
    * Category (e.g., "Single Private AC", "Twin Sharing")
  - Waiting Period should include time unit (days/months/years)
    * If multiple waiting periods exist, extract the initial/general waiting period
    * Example formats: "30 days", "2 years", "48 months"
  
  ### Search Strategy for Missing Fields:
  1. **Room Rent Limit**: Check policy schedule, coverage details, benefit tables, room eligibility sections
  2. **Waiting Period**: Check terms & conditions, exclusions, policy schedule, coverage commencement details
  3. Look in tables, bullet points, and fine print
  4. Check both main policy document and annexures/schedules
  
  ## OUTPUT FORMAT
  
  Return extracted data as a JSON object with the following structure:
  
  {format_instructions}
  
  ## VALIDATION CHECKS
  
  Before finalizing extraction:
  1. Verify all required fields are addressed
  2. Ensure numeric values are properly formatted
  3. Confirm email format if present
  4. Check for any alternative terms used for the same fields
  5. Cross-reference related information for accuracy
  
  ## ERROR HANDLING
  
  If document appears to be:
  - Not an insurance document: Return error with explanation
  - Incomplete or corrupted: Extract available fields, note missing sections
  - Multiple policies: Extract first policy, note presence of additional policies
  
  Remember: Accuracy is critical for insurance data. When in doubt, mark as unclear rather than guessing.

format_instructions: |
   {format_instructions}